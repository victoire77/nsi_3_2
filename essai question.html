<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title> essai </title>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython.min.js">
    </script>
    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/brython@3.11.0/brython_stdlib.js">
    </script>
</head>

<body onload="brython()">

<script type="text/python">
from browser import document, html
import functy
import kPPV_JACQ_BODET_FEFEU_ROCHER as kppv
questions = functy.to_table()
print(questions)

profil_temporaire = []
question = ""

i = 0
def nouvelle_question(): 
    document['question'].textContent = questions[i]['Questions']
    document['choix1'].textContent = questions[i]['reponse1']       
    document['choix2'].textContent = questions[i]['reponse2']
    document['choix3'].textContent = questions[i]['reponse3']

def reponse1(evt):
    global i
    values = []         
    question = questions[i]  
    values.append(question[' value 1'])
    profil_temporaire.append(values)
    print(profil_temporaire)

    if i < len(questions)-1:       
        print(i)
        i = i + 1
        nouvelle_question()
    else:
        apparence = kppv.formation_profil(profil_temporaire)
        print(apparence)
        
        donnee_finale = kppv.fonction_finale(apparence) 

def reponse2(evt):
    global i
    values = []
    question = questions[i]   
    values.append(question[' value 2'])       
    profil_temporaire.append(values)
    print(profil_temporaire)

    if i != len(questions)-1:        
        print(i)
        i = i + 1
        nouvelle_question()
    else:
        apparence = kppv.formation_profil(profil_temporaire)
        print(apparence)
        
        #donnee_finale = kppv.fonction_finale(apparence)

def reponse3(evt):
    global i
    values = []
    question = questions[i]
    values.append(question[' value 3'])      
    profil_temporaire.append(values)
    print(profil_temporaire)

    if i != len(questions)-1:          
        print(i)
        i = i + 1
        nouvelle_question()
    else:
        apparence = kppv.formation_profil(profil_temporaire)
        
        #donnee_finale = kppv.fonction_finale(apparence)

nouvelle_question()

document['choix1'].bind('click', reponse1)
document['choix2'].bind('click', reponse2)
document['choix3'].bind('click', reponse3)

</script>

<div id="question"></div>
<button name="button" id="choix1"></button>
<button name="button" id="choix2"></button>
<button name="button" id="choix3"></button>
<p id="mymessage"></p> 

</body>

</html>
